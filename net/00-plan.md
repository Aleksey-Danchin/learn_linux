# План изучения сетевых основ Linux с включением `netns`

## **Структура курса и зависимостей**

Каждый блок изучается в отдельном диалоге. Внутри блока ИИ должен:

- Объяснить понятия и термины.
- Разобрать команды и ключи.
- Показать примеры применения.
- Предложить практические упражнения.
- В конце, по запросу, составить тест с теоретической и практической частью.

---

## **Блок 1 — Сетевой фундамент**

**Зависимости:** нет.

- Модель OSI (L2 и L3) и их отличие.
- IP-адрес, маска подсети, CIDR.
- IPv4 vs IPv6 (базово).
- Шлюз по умолчанию.
- MAC-адрес и назначение.
- Публичные и приватные IP.
- Утилиты: `ping`, `traceroute`, `ipcalc`.

---

## **Блок 2 — Сетевые интерфейсы в Linux**

**Зависимости:** Блок 1.

- Физические и виртуальные интерфейсы (eth0, wlan0, lo, veth, bridge, tun/tap).
- Loopback (`lo`) и роль.
- Состояния интерфейсов (UP/DOWN).
- Изменение MAC-адреса и MTU.
- Утилиты: `ip link`, `ip addr`.

---

## **Блок 3 — Маршрутизация**

**Зависимости:** Блок 1, Блок 2.

- Таблица маршрутов.
- Прямые и через шлюз.
- Приоритет (metric).
- Утилиты: `ip route`.

---

## **Блок 4 — ARP и кэш соседей**

**Зависимости:** Блок 1, Блок 2.

- Принцип работы ARP.
- ARP-таблица.
- Динамические и статические записи.
- Утилиты: `ip neigh`, `arp`.

---

## **Блок 5 — Инструменты управления сетью в Linux**

**Зависимости:** Блок 1–4.

- Подкоманды `ip` (`link`, `addr`, `route`, `neigh`, `netns`).
- Чтение `/proc/net` (dev, arp, route).

---

## **Блок 6 — Firewall в Linux (iptables/nftables)**

**Зависимости:** Блок 1–3.

- iptables и nftables.
- Таблицы: `filter`, `nat`, `mangle`.
- Цепочки: `INPUT`, `FORWARD`, `OUTPUT`.
- NAT (SNAT/DNAT).

---

## **Блок 7 — DHCP и DNS в Linux**

**Зависимости:** Блок 1–3.

- Принцип работы DHCP.
- Принцип работы DNS.
- Настройка DHCP-клиента (`dhclient`, `systemd-networkd`).
- Настройка DNS (resolv.conf, systemd-resolved).
- Утилиты: `dig`, `nslookup`, `host`.

---

## **Блок 8 — Виртуальные интерфейсы и мосты**

**Зависимости:** Блок 2, Блок 3.

- veth-пара.
- Linux bridge.
- TUN/TAP.
- Утилиты: `ip link add`, `brctl`, `bridge`.

---

## **Блок 9 — Network namespaces (netns)**

**Зависимости:** Все предыдущие блоки.

- Что изолирует netns.
- Создание/удаление/просмотр.
- Запуск команд внутри netns.
- Соединение netns через veth.
- Настройка маршрутов и firewall в netns.
- Утилиты: `ip netns`.

---

## **Рекомендации по прохождению курса**

- Перед новым блоком повторять зависимые.
- Использовать Docker или netns для практики.
- Конспекты вести в `.md`.
- По запросу — тесты с теорией и лабораторными заданиями.
